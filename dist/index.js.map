{"version":3,"file":"index.js","sources":["../node_modules/js-cookie/dist/js.cookie.mjs","../src/trace/utils.js","../src/trace/BuryingPoint.js","../src/trace/dom.js","../src/index.js"],"sourcesContent":["/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import Cookies from 'js-cookie'\r\n\r\n/**\r\n * @param {string} object\r\n * @returns {Boolean}\r\n */\r\nexport function isObject(obj) {\r\n  return Object.prototype.toString.call(obj) === '[object Object]'\r\n}\r\n\r\n/**\r\n * Merges two objects, giving the last one precedence\r\n * @param {Object} target\r\n * @param {(Object|Array)} source\r\n * @returns {Object}\r\n */\r\nexport function objectMerge(target, source) {\r\n  if (!isObject(target)) {\r\n    target = {}\r\n  }\r\n  if (Array.isArray(source)) {\r\n    return source.slice()\r\n  }\r\n  Object.keys(source).forEach((property) => {\r\n    const sourceProperty = source[property]\r\n    if (typeof sourceProperty === 'object') {\r\n      target[property] = objectMerge(target[property], sourceProperty)\r\n    } else {\r\n      target[property] = sourceProperty\r\n    }\r\n  })\r\n  return target\r\n}\r\n\r\n/**\r\n * @param {Array} actual\r\n * @returns {Array}\r\n */\r\nexport function cleanArray(actual) {\r\n  return actual.filter((val) => val)\r\n}\r\n\r\n/**\r\n * @param {Object} json\r\n * @returns {Array}\r\n */\r\nexport function param(json) {\r\n  if (!json) return ''\r\n  return cleanArray(\r\n    Object.keys(json).map((key) => {\r\n      if (json[key] === undefined) return ''\r\n      return encodeURIComponent(key) + '=' + encodeURIComponent(json[key])\r\n    })\r\n  ).join('&')\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @returns {Object}\r\n */\r\nexport function param2Obj(url = '') {\r\n  const search = decodeURIComponent(url.split('?')[1]).replace(/\\+/g, ' ')\r\n  if (!search) {\r\n    return {}\r\n  }\r\n  const obj = {}\r\n  const searchArr = search.split('&')\r\n  searchArr.forEach((v) => {\r\n    const index = v.indexOf('=')\r\n    if (index !== -1) {\r\n      const name = v.substring(0, index)\r\n      const val = v.substring(index + 1, v.length)\r\n      obj[name] = val\r\n    }\r\n  })\r\n  return obj\r\n}\r\n\r\n/**\r\n * @param {string} path\r\n * @returns {Boolean}\r\n */\r\nexport function isExternal(path = '') {\r\n  return /^(https?:|mailto:|tel:)/.test(path)\r\n}\r\n\r\n/**\r\n * @returns {String}\r\n */\r\nexport function getMetaSpmA() {\r\n  return document.head.querySelector('[name=\"spm-a\"]')?.content || ''\r\n}\r\n\r\n/**\r\n * @returns {String}\r\n */\r\nexport function getSpmb() {\r\n  return document.head.querySelector('[name=\"spm-b\"]')?.content || ''\r\n}\r\n\r\n/**\r\n * @descriptin 获取当前语种\r\n * @returns {Array}\r\n */\r\nexport const getLocale = () => {\r\n  return Cookies.get('language') || 'en'\r\n}\r\n\r\n/**\r\n * @descriptin 是否客户端\r\n * @returns {Boolean}\r\n */\r\nexport function isClient() {\r\n  return typeof window !== 'undefined'\r\n}\r\n","import { objectMerge, param2Obj } from './utils'\r\nimport Cookies from 'js-cookie'\r\nlet g__randomString = null // 全局的pvid的定义是：sdk加载时（pageview事件）（在发送日志之前）生成一个随机id，由数字和大小写字母组成\r\nclass BuryingPoint {\r\n  constructor(options = {}) {\r\n    // 配置对象初始化\r\n    this.baseUrl = options.baseUrl || '/' // 接口路径\r\n    this.spm_a = options.spm_a || '' // 当前站点，对应spmA\r\n    this.spm_b = options.spm_b // 当前页面， 对应spmB\r\n    this.module = options.module // 当前模块\r\n    this.moduleName = options.moduleName // 模块名称,对应spmC\r\n    this.moduleIndex = options.moduleIndex || '1' // 模块索引，对应spmD\r\n    this.resource = options.resource || '' // 来源id\r\n    this.title = options.title || '' // 标题\r\n    this.event_body = options.event_body // 事件body\r\n    this.callback = options.callback || null // 回调\r\n    this.domain = options.domain || location.hostname // 当前domian\r\n    // 处理时间维度\r\n    this.SESSION_EXPIRE_TIME = options.sessionExpireTime || 30 * 60 * 1000 // 会话最大有效时间\r\n    this.VISIT_TIME = new Date().getTime() // 当前访问时间\r\n    this.last_vtz = Cookies.get('d1_last_vt') || '' // 上次访问时间\r\n    this.d1_s_vnum = Cookies.get('d1_s_vnum') || '' // 曝光次数\r\n    this.d1_s_clicks = Cookies.get('d1_s_clicks') || '' // 点击次数\r\n    this.d1_session = Cookies.get('d1_session') || '' // session会话\r\n    this.io = null // 监听io\r\n    this.init()\r\n  }\r\n  get isTime() {\r\n    // 距离上次访问时长\r\n    return this.last_vtz !== '' ? this.VISIT_TIME - this.last_vtz : null\r\n  }\r\n  get isExpire() {\r\n    // 会话失效或者首次访问\r\n    return !this.isTime || this.isTime > this.SESSION_EXPIRE_TIME\r\n  }\r\n  // 初始化\r\n  init() {\r\n    if (!g__randomString) g__randomString = this.randomString()\r\n    // 设置最后访问时间\r\n    this.setLastVtz()\r\n    // 埋spm\r\n    this.buryingSpm()\r\n  }\r\n  // 曝光\r\n  expose(options = {}) {\r\n    const _this = this\r\n    this.event_body = objectMerge(\r\n      {\r\n        event_type: 'expose',\r\n        event_name: 'web_expo',\r\n        event_data: {\r\n          event_entity_info: {},\r\n        },\r\n      },\r\n      options.event_body || {}\r\n    )\r\n    this.moduleIndex = options.moduleIndex || '1'\r\n    // 设置请求报文\r\n    this.setRequestVo()\r\n    // 监听元素是否出现可视区\r\n    try {\r\n      this.io = new IntersectionObserver(\r\n        function (entries, observer) {\r\n          if (entries && entries[0] && entries[0].isIntersecting) {\r\n            // 停止监听（防止循环监听）\r\n            observer.unobserve(_this.module)\r\n            // 如果元素可见 开始埋点\r\n            _this.setPoint()\r\n          }\r\n        },\r\n        {\r\n          threshold: [0.5],\r\n        }\r\n      )\r\n      // 开始监听\r\n      this.io.observe(_this.module)\r\n    } catch (err) {\r\n      console.error('IntersectionObserver-error', err)\r\n    }\r\n  }\r\n  // 点击\r\n  click(options = {}) {\r\n    // 设置请求报文\r\n    this.event_body = objectMerge(\r\n      {\r\n        event_type: 'click',\r\n        event_name: 'click',\r\n        event_data: {\r\n          event_entity_info: {\r\n            link_type: 'click',\r\n          },\r\n        },\r\n      },\r\n      options.event_body || {}\r\n    )\r\n    this.moduleIndex = options.moduleIndex || '1'\r\n    this.setRequestVo()\r\n    this.setPoint()\r\n  }\r\n  // 页面曝光\r\n  pageview(options = {}) {\r\n    // 页面曝光前重新定义pvid\r\n    g__randomString = this.randomString()\r\n    // 设置请求报文\r\n    this.event_body = objectMerge(\r\n      {\r\n        event_type: 'web_pageview',\r\n        event_name: 'pageview',\r\n        event_data: {\r\n          event_entity_info: {},\r\n        },\r\n      },\r\n      options.event_body || {}\r\n    )\r\n    this.setRequestVo()\r\n    this.setPoint()\r\n  }\r\n  // 设置最后访问时间\r\n  setLastVtz() {\r\n    if (this.isExpire) {\r\n      Cookies.set('d1_last_vt', this.VISIT_TIME, { domain: this.domain })\r\n    }\r\n  }\r\n  // 随机数\r\n  randomString() {\r\n    var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'\r\n    var string_length = 20\r\n    var randomstring = ''\r\n    for (var i = 0; i < string_length; i++) {\r\n      var rnum = Math.floor(Math.random() * chars.length)\r\n      randomstring += chars.substring(rnum, rnum + 1)\r\n    }\r\n    return randomstring\r\n  }\r\n  // 设置会话\r\n  setSession() {\r\n    const d1_session = Cookies.get('d1_session')\r\n    const randomString = this.randomString()\r\n    if (this.isExpire || !d1_session) {\r\n      Cookies.set('d1_session', randomString, { domain: this.domain })\r\n    }\r\n  }\r\n  // 设置点击次数\r\n  setSclk() {\r\n    let d1_s_clicks = Cookies.get('d1_s_clicks')\r\n    if (this.isExpire || !d1_s_clicks) {\r\n      d1_s_clicks = 1\r\n    } else {\r\n      d1_s_clicks++\r\n    }\r\n    Cookies.set('d1_s_clicks', d1_s_clicks, { domain: this.domain })\r\n    this.d1_s_clicks = d1_s_clicks\r\n  }\r\n  // 设置曝光次数\r\n  setVnum() {\r\n    let d1_s_vnum = Cookies.get('d1_s_vnum')\r\n    if (this.isExpire || !d1_s_vnum) {\r\n      d1_s_vnum = 1\r\n    } else {\r\n      d1_s_vnum++\r\n    }\r\n    Cookies.set('d1_s_vnum', d1_s_vnum, { domain: this.domain })\r\n    this.d1_s_vnum = d1_s_vnum\r\n  }\r\n  // 埋点\r\n  setPoint() {\r\n    let lang = ''\r\n    let site = ''\r\n    const spmA = this.spm_a\r\n    if (spmA) {\r\n      lang = spmA.slice(-2) || ''\r\n      site = spmA.slice(0, spmA.length - 2) || 'www'\r\n    }\r\n    var srcStr = {\r\n      user_info: {\r\n        vid: Cookies.get('vid') || '',\r\n        user_id: Cookies.get('b2b_buyerid') || window.localStorage.getItem('d1_userid') || '',\r\n        session_id: Cookies.get('d1_session') || Cookies.get('session') || '',\r\n      },\r\n      device: {\r\n        user_agent: navigator.userAgent || '',\r\n        sr: window.screen.width + '*' + window.screen.height,\r\n        ga_id: Cookies.get('_ga') || '',\r\n      },\r\n      site_info: {\r\n        site: site,\r\n        lang: lang || Cookies.get('language') || '',\r\n      },\r\n      visit_time: {\r\n        time: new Date().getTime() || '',\r\n        // \"timezone\": Intl.DateTimeFormat().resolvedOptions().timeZone || \"\"\r\n        timezone: new Date().getTimezoneOffset() / 60 || '',\r\n      },\r\n      event_body: this.event_body,\r\n    }\r\n    var enSrcStr = JSON.stringify(srcStr)\r\n    if (typeof this.baseUrl === 'string') {\r\n      this.sendLog(this.baseUrl, enSrcStr)\r\n    } else if (Array.isArray(this.baseUrl) && this.baseUrl.length) {\r\n      this.baseUrl.forEach((url) => {\r\n        this.sendLog(url, enSrcStr)\r\n      })\r\n    }\r\n    this.callback && this.callback()\r\n  }\r\n  // 埋点请求\r\n  sendLog(url, params) {\r\n    if (navigator.sendBeacon) {\r\n      this.sendBeacon(url, params)\r\n    } else {\r\n      this.createTrackLogImg(url, params)\r\n    }\r\n  }\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\r\n  sendBeacon(url, params) {\r\n    navigator.sendBeacon(`${url}?v=0.0.1&tacktype=web&site=www&status=true&data=`, params)\r\n  }\r\n  // 生成图片，发送请求\r\n  createTrackLogImg(url, enSrcStr) {\r\n    var tracklogImg = new Image()\r\n    tracklogImg.onload = function () {}\r\n    tracklogImg.src = `${url}?v=0.0.1&tacktype=web&site=www&status=true&data=${encodeURIComponent(enSrcStr)}`\r\n  }\r\n  // 获取URl上面的参数\r\n  getUrlParam(key) {\r\n    var url = location.href\r\n    var paraObj = param2Obj(url)\r\n    // 排除key=wedding+dresses#aa中#aa 把‘+’去掉\r\n    var returnValue = paraObj[key.toLowerCase()]\r\n    if (typeof returnValue === 'undefined') {\r\n      return ''\r\n    } else {\r\n      return returnValue.replace(/(.+)#.*/, '$1').replace(/\\+/g, ' ')\r\n    }\r\n  }\r\n  // 处理请求参数\r\n  setRequestVo() {\r\n    var _this = this\r\n    var type = this.event_body.event_data.event_entity_info.link_type\r\n    var link_type = _this.event_body.event_type === 'click' ? type : 'item'\r\n    // 设置随机数\r\n    if (!g__randomString) g__randomString = this.randomString()\r\n    // 设置会话\r\n    _this.setSession()\r\n    if (type === 'click' || _this.event_body.event_type === 'click') {\r\n      _this.setSclk()\r\n    }\r\n    _this.event_body.event_time = new Date().getTime() || ''\r\n    _this.event_body.source = {\r\n      f: Cookies.get('ref_f') || '',\r\n      url: location.href || '',\r\n      ref_url: document.referrer || '',\r\n      spm_ref: _this.getUrlParam('dspm') || '',\r\n      spm_curr: _this.spm_a + '.' + _this.spm_b + '.0.0.0',\r\n      pvid: g__randomString || '',\r\n      vnum: _this.d1_s_vnum || '',\r\n      s_clk: _this.d1_s_clicks || '',\r\n      last_vt: _this.last_vtz || '',\r\n      dh_aff: Cookies.get('DHaff') || '',\r\n      ref_utm: Cookies.get('ref_utm') || '',\r\n    }\r\n    if (_this.module === 'page') {\r\n      // 页面加载\r\n      _this.event_body.event_type = 'web_pageview'\r\n      _this.event_body.event_name = 'pageview'\r\n      _this.event_body.source.title = _this.title\r\n      _this.setVnum()\r\n    } else {\r\n      // 各模块\r\n      _this.event_body.event_type = this.event_body.event_type || 'expose'\r\n      _this.event_body.event_name = this.event_body.event_name || 'web_expo'\r\n      if (!_this.event_body.content_data) {\r\n        _this.event_body.content_data = {\r\n          ab_version: '',\r\n        }\r\n      }\r\n      // 处理scm\r\n      if (_this.event_body.content_data.scm) {\r\n        _this.event_body.content_data.scm = _this.event_body.content_data.scm || {}\r\n      }\r\n      // a标签或有href属性则处理href或itemcode\r\n      var itemcode = (this.event_body.event_data.event_entity_info.item_code || '').toString()\r\n      var moduleEl =\r\n        _this.module.tagName === 'A' ? _this.module : _this.module.getElementsByTagName('a')[0] || _this.module\r\n      var href = moduleEl.getAttribute('href') || ''\r\n      if (!itemcode) {\r\n        itemcode =\r\n          link_type === 'item' ? moduleEl.getAttribute('itemcode') || moduleEl.getAttribute('resource') || '' : ''\r\n      }\r\n      if (itemcode.indexOf('/') > -1) {\r\n        itemcode = ''\r\n      }\r\n      objectMerge(_this.event_body.event_data.event_entity_info, {\r\n        link_url: href.indexOf('/') > -1 ? href : '',\r\n        link_title: moduleEl.getAttribute('title') || '',\r\n        resource_id: _this.resource || moduleEl.getAttribute('resource') || '',\r\n        item_code: itemcode,\r\n        spm_link:\r\n          _this.spm_a + '.' + _this.spm_b + '.' + _this.moduleName + '.' + _this.moduleIndex + '.' + g__randomString,\r\n        link_type: type || moduleEl.getAttribute('link-type') || 'item',\r\n      })\r\n    }\r\n  }\r\n  // 给a链接埋dspm\r\n  buryingSpm(track) {\r\n    track = track || this.module\r\n    if (typeof track !== 'object') return\r\n    const _this = this\r\n    const spmA = this.spm_a || ''\r\n    const spmB = this.spm_b || track.site || ''\r\n    return (function getD1() {\r\n      // track 可以传对象，也可以传模块id ,可以直接传元素  (传对象返回的是链接)\r\n      // pcen\r\n      // site 首页站点hp\r\n      // module 模块 如flashdeal\r\n      // index 索引\r\n      // resourece resource_id\r\n      // rmdspm 去掉dspm=\r\n      // isSlide 是否加? true去掉   默认是有\r\n      // spm-param  true 不加dspm\r\n      // event-type: event 点击埋点   click 发送点击事件\r\n      const isDOM = track instanceof HTMLElement\r\n      let str = ''\r\n      if (!isDOM) {\r\n        const resourece = track.resourece || ''\r\n        if (track.rmdspm) {\r\n          str = spmA + '.' + spmB + '.' + track.module + '.' + track.index + '.' + g__randomString\r\n        } else {\r\n          str = 'dspm=' + spmA + '.' + spmB + '.' + track.module + '.' + track.index + '.' + g__randomString\r\n        }\r\n        // 处理resourece字段\r\n        if (resourece) str += '&resource_id=' + encodeURIComponent(resourece)\r\n      } else {\r\n        if (!track) {\r\n          return\r\n        }\r\n        switch (track.tagName) {\r\n          case 'A':\r\n            _this.setHref(track)\r\n            break\r\n          default:\r\n            Array.from(track.getElementsByTagName('a')).forEach((v) => {\r\n              _this.setHref(v)\r\n            })\r\n        }\r\n        return\r\n      }\r\n      if (track.url) {\r\n        str = _this.handleUrl(track.url, str)\r\n      } else {\r\n        if (track.isSlide) {\r\n          str = str.substring(0, str.length)\r\n        } else {\r\n          str = '?' + str.substring(0, str.length)\r\n        }\r\n      }\r\n\r\n      return str\r\n    })()\r\n  }\r\n  // 设置a链接埋点链接\r\n  setHref(ele) {\r\n    var href = ele.getAttribute('href') || 'javascript'\r\n    var resource = ele.getAttribute('resource') || ele.getAttribute('itemcode') || ''\r\n    var str = ''\r\n    var strD1_click_type = ''\r\n    var scm_id = ''\r\n    var strResource = '&resource_id=' + encodeURIComponent(resource)\r\n    if (href.indexOf('dspm=') > -1 || href.indexOf('javascript') > -1) {\r\n      return\r\n    }\r\n    var spmA = this.spm_a || ''\r\n    var spmB = this.spm_b || ''\r\n    var spmC = ele.getAttribute('spm-c') || this.moduleName || ''\r\n    var spmIndex = ele.getAttribute('spm-index') || this.moduleIndex || '1'\r\n    str =\r\n      'dspm=' +\r\n      spmA +\r\n      '.' +\r\n      spmB +\r\n      '.' +\r\n      spmC +\r\n      '.' +\r\n      spmIndex +\r\n      '.' +\r\n      g__randomString +\r\n      strResource +\r\n      strD1_click_type +\r\n      scm_id\r\n    str = this.handleUrl(href, str)\r\n    ele.setAttribute('href', str)\r\n  }\r\n  // 处理链接\r\n  handleUrl(href, str = '') {\r\n    if (href.indexOf('?') > -1) {\r\n      if (href.indexOf('#') > -1) {\r\n        str = href.replace('#', function (a, b) {\r\n          return '&' + str + '#'\r\n        })\r\n      } else {\r\n        str = href + '&' + str\r\n      }\r\n    } else {\r\n      if (href.indexOf('#') > -1) {\r\n        str = href.replace('#', function (a, b) {\r\n          return '?' + str + '#'\r\n        })\r\n      } else {\r\n        str = href + '?' + str\r\n      }\r\n    }\r\n    return str\r\n  }\r\n}\r\n\r\nexport default BuryingPoint\r\n","/* istanbul ignore next */\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/\r\nconst ieVersion = typeof window !== 'undefined' && document.documentMode\r\n\r\n/* istanbul ignore next */\r\nconst trim = function (string) {\r\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\r\n}\r\n/* istanbul ignore next */\r\nconst camelCase = function (name) {\r\n  return name\r\n    .replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\r\n      return offset ? letter.toUpperCase() : letter\r\n    })\r\n    .replace(MOZ_HACK_REGEXP, 'Moz$1')\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const on = (function () {\r\n  if (typeof window === 'undefined') return false\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler, passive) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, passive)\r\n      }\r\n    }\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.attachEvent('on' + event, handler)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const off = (function () {\r\n  if (typeof window === 'undefined') return false\r\n  if (document.removeEventListener) {\r\n    return function (element, event, handler, passive) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, passive)\r\n      }\r\n    }\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.detachEvent('on' + event, handler)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const once = function (el, event, fn) {\r\n  var listener = function () {\r\n    if (fn) {\r\n      fn.apply(this, arguments)\r\n    }\r\n    off(el, event, listener)\r\n  }\r\n  on(el, event, listener)\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function hasClass(el, cls) {\r\n  if (!el || !cls) return false\r\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\r\n  if (el.classList) {\r\n    return el.classList.contains(cls)\r\n  } else {\r\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function addClass(el, cls) {\r\n  if (!el) return\r\n  var curClass = el.className\r\n  var classes = (cls || '').split(' ')\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[i]\r\n    if (!clsName) continue\r\n\r\n    if (el.classList) {\r\n      el.classList.add(clsName)\r\n    } else if (!hasClass(el, clsName)) {\r\n      curClass += ' ' + clsName\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function removeClass(el, cls) {\r\n  if (!el || !cls) return\r\n  var classes = cls.split(' ')\r\n  var curClass = ' ' + el.className + ' '\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[i]\r\n    if (!clsName) continue\r\n\r\n    if (el.classList) {\r\n      el.classList.remove(clsName)\r\n    } else if (hasClass(el, clsName)) {\r\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const getStyle =\r\n  ieVersion < 9\r\n    ? function (element, styleName) {\r\n        if (!element || !styleName) return null\r\n        styleName = camelCase(styleName)\r\n        if (styleName === 'float') {\r\n          styleName = 'styleFloat'\r\n        }\r\n        try {\r\n          switch (styleName) {\r\n            case 'opacity':\r\n              try {\r\n                return element.filters.item('alpha').opacity / 100\r\n              } catch (e) {\r\n                return 1.0\r\n              }\r\n            default:\r\n              return element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null\r\n          }\r\n        } catch (e) {\r\n          return element.style[styleName]\r\n        }\r\n      }\r\n    : function (element, styleName) {\r\n        if (!element || !styleName) return null\r\n        styleName = camelCase(styleName)\r\n        if (styleName === 'float') {\r\n          styleName = 'cssFloat'\r\n        }\r\n        try {\r\n          var computed = document.defaultView.getComputedStyle(element, '')\r\n          return element.style[styleName] || computed ? computed[styleName] : null\r\n        } catch (e) {\r\n          return element.style[styleName]\r\n        }\r\n      }\r\n\r\n/* istanbul ignore next */\r\nexport function setStyle(element, styleName, value) {\r\n  if (!element || !styleName) return\r\n\r\n  if (typeof styleName === 'object') {\r\n    for (var prop in styleName) {\r\n      if (styleName.hasOwnProperty(prop)) {\r\n        setStyle(element, prop, styleName[prop])\r\n      }\r\n    }\r\n  } else {\r\n    styleName = camelCase(styleName)\r\n    if (styleName === 'opacity' && ieVersion < 9) {\r\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')'\r\n    } else {\r\n      element.style[styleName] = value\r\n    }\r\n  }\r\n}\r\n\r\nexport const isScroll = (el, vertical) => {\r\n  const determinedDirection = vertical !== null || vertical !== undefined\r\n  const overflow = determinedDirection\r\n    ? vertical\r\n      ? getStyle(el, 'overflow-y')\r\n      : getStyle(el, 'overflow-x')\r\n    : getStyle(el, 'overflow')\r\n\r\n  return overflow.match(/(scroll|auto)/)\r\n}\r\n\r\nexport const getScrollContainer = (el, vertical) => {\r\n  let parent = el\r\n  while (parent) {\r\n    if ([window, document, document.documentElement].includes(parent)) {\r\n      return window\r\n    }\r\n    if (isScroll(parent, vertical)) {\r\n      return parent\r\n    }\r\n    parent = parent.parentNode\r\n  }\r\n\r\n  return parent\r\n}\r\n\r\nexport const isInContainer = (el, container) => {\r\n  if (!el || !container) return false\r\n\r\n  const elRect = el.getBoundingClientRect()\r\n  let containerRect\r\n\r\n  if ([window, document, document.documentElement, null, undefined].includes(container)) {\r\n    containerRect = {\r\n      top: 0,\r\n      right: window.innerWidth,\r\n      bottom: window.innerHeight,\r\n      left: 0,\r\n    }\r\n  } else {\r\n    containerRect = container.getBoundingClientRect()\r\n  }\r\n\r\n  return (\r\n    elRect.top < containerRect.bottom &&\r\n    elRect.bottom > containerRect.top &&\r\n    elRect.right > containerRect.left &&\r\n    elRect.left < containerRect.right\r\n  )\r\n}\r\n\r\n/**\r\n *\r\n * @param {事件event} event\r\n * @param {获取的属性名称} attribute\r\n * @param {当前绑定事件的元素} el\r\n * @returns 属性值\r\n * @description 获取属性值\r\n */\r\nexport const getAttribute = (event, attribute, el) => {\r\n  const target = event.target\r\n  const paths = event.path || (event.composedPath && event.composedPath()) // ios只支持10以上版本\r\n  const pathsNum = paths.length\r\n  if (target.getAttribute(attribute)) return target.getAttribute(attribute)\r\n  let res = null\r\n  for (let index = 0; index < pathsNum; index++) {\r\n    const element = paths[index]\r\n    try {\r\n      res = element.getAttribute(attribute)\r\n    } catch (error) {}\r\n    if (element === el || res) break\r\n  }\r\n  return res\r\n}\r\n","import BuryingPoint from './trace/BuryingPoint'\r\nimport { getAttribute } from './trace/dom'\r\nimport { getSpmb, isClient } from './trace/utils'\r\n\r\nfunction checkOptions({ baseUrl = [], spma = '' }) {\r\n  if (baseUrl && baseUrl.length === 0) {\r\n    throw new Error('baseUrl is required')\r\n  }\r\n  if (spma === '') {\r\n    throw new Error('spma is required')\r\n  }\r\n  return true\r\n}\r\n\r\n// pv埋点\r\nexport function pageView({ baseUrl = [], spma = '' }) {\r\n  if (!checkOptions({ baseUrl, spma })) {\r\n    return false\r\n  }\r\n  if (!isClient()) {\r\n    return false\r\n  }\r\n  let spmb = getSpmb()\r\n  const locale = getLocale()\r\n  if (spmb === '') {\r\n    throw new Error('spmb is required')\r\n  }\r\n  new BuryingPoint({\r\n    module: 'page',\r\n    baseUrl,\r\n    spm_a: `${spma}${locale}`,\r\n    spm_b: spmb,\r\n  }).pageview()\r\n}\r\n\r\n// 点击埋点\r\nexport function clickTrack({ baseUrl = [], spma = '', spmc = '', spmd = '', module = document.body }) {\r\n  if (!checkOptions({ baseUrl, spma })) {\r\n    return false\r\n  }\r\n  let spmb = getSpmb()\r\n  const locale = getLocale()\r\n  new BuryingPoint({\r\n    baseUrl,\r\n    module: module, // element dom\r\n    spm_a: `${spma}${locale}`,\r\n    spm_b: spmb,\r\n    moduleName: spmc, // spm_c\r\n  }).click({\r\n    moduleIndex: spmd,\r\n  })\r\n}\r\n\r\n// 曝光埋点\r\nexport function exposeTrack({ baseUrl = [], spma = '', spmc = '', spmd = '', module = document.body }) {\r\n  if (!checkOptions({ baseUrl, spma })) {\r\n    return false\r\n  }\r\n  let spmb = getSpmb()\r\n  const locale = getLocale()\r\n  new BuryingPoint({\r\n    baseUrl,\r\n    module: module, // element dom\r\n    spm_a: `${spma}${locale}`,\r\n    spm_b: spmb,\r\n    moduleName: spmc, // spm_c\r\n  }).expose({\r\n    moduleIndex: spmd,\r\n  })\r\n}\r\n\r\n/**\r\n * @description 点击事件埋点\r\n */\r\nfunction listenerTraceClickHandler(event) {\r\n  // 获取埋点元素信息\r\n  const target = event.target\r\n  const spmc = getAttribute(event, 'spm-c')\r\n  if (spmc) {\r\n    const spmIndex = getAttribute(event, 'spm-index') || '1'\r\n    this.click({\r\n      spmc,\r\n      spmd: spmIndex,\r\n      module: target,\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * @description 自动埋点元素\r\n */\r\nexport function autoTrack(attr) {\r\n  if (!checkOptions(attr)) {\r\n    return false\r\n  }\r\n  if (!isClient()) {\r\n    return false\r\n  }\r\n  pageView(attr)\r\n  window.addEventListener('click', listenerTraceClickHandler, false)\r\n  // 网页关闭之前取消监听\r\n  let observer = null\r\n  window.addEventListener('beforeunload', function (e) {\r\n    if (observer) observer.disconnect()\r\n  })\r\n\r\n  // 曝光自动监听\r\n  const MutationObserver = window.MutationObserver || window.WebKitMutationObserver\r\n  // 监听dom变化\r\n  function checkDomReady() {\r\n    // 检查指定节点是否有匹配\r\n    let elements = [].slice.call(document.querySelectorAll('[event-type=expose]')).filter((item) => !item.ready)\r\n    const changeTotal = elements.length\r\n    if (changeTotal > 0) {\r\n      for (var index = 0; index < changeTotal; index++) {\r\n        const element = elements[index]\r\n        // 确保只会对该元素调用一次\r\n        if (!element.ready) {\r\n          element.ready = true\r\n          // 对节点调用曝光监听\r\n          const spmc = element.getAttribute('spm-c') || ''\r\n          const spmd = element.getAttribute('spm-index') || '1'\r\n          traceExpose({\r\n            spmc,\r\n            spmd,\r\n            module: element,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 对document.body监听元素变化\r\n  function observerEleReady() {\r\n    if (!observer) {\r\n      // 监听document变化\r\n      observer = new MutationObserver(checkDomReady)\r\n      observer.observe(document.body, {\r\n        childList: true,\r\n        subtree: true,\r\n      })\r\n    }\r\n    // 检查该节点是否已经在DOM中\r\n    checkDomReady()\r\n  }\r\n  observerEleReady()\r\n}\r\n"],"names":["assign","target","i","arguments","length","source","key","defaultConverter","read","value","slice","replace","decodeURIComponent","write","encodeURIComponent","init","converter","defaultAttributes","set","name","attributes","document","expires","Date","now","toUTCString","escape","stringifiedAttributes","attributeName","split","cookie","get","cookies","jar","parts","join","found","e","Object","create","remove","withAttributes","withConverter","freeze","api","path","isObject","obj","prototype","toString","call","objectMerge","Array","isArray","keys","forEach","property","sourceProperty","_typeof","param2Obj","url","undefined","search","searchArr","v","index","indexOf","substring","val","getSpmb","_document$head$queryS2","head","querySelector","content","isClient","window","g__randomString","BuryingPoint","options","_classCallCheck","baseUrl","spm_a","spm_b","module","moduleName","moduleIndex","resource","title","event_body","callback","domain","location","hostname","SESSION_EXPIRE_TIME","sessionExpireTime","VISIT_TIME","getTime","last_vtz","Cookies","d1_s_vnum","d1_s_clicks","d1_session","io","_createClass","isTime","randomString","setLastVtz","buryingSpm","expose","_this","event_type","event_name","event_data","event_entity_info","setRequestVo","IntersectionObserver","entries","observer","isIntersecting","unobserve","setPoint","threshold","observe","err","console","error","click","link_type","pageview","isExpire","chars","string_length","randomstring","rnum","Math","floor","random","setSession","setSclk","setVnum","_this2","lang","site","spmA","srcStr","user_info","vid","user_id","localStorage","getItem","session_id","device","user_agent","navigator","userAgent","sr","screen","width","height","ga_id","site_info","visit_time","time","timezone","getTimezoneOffset","enSrcStr","JSON","stringify","sendLog","params","sendBeacon","createTrackLogImg","concat","tracklogImg","Image","onload","src","getUrlParam","href","paraObj","returnValue","toLowerCase","type","event_time","f","ref_url","referrer","spm_ref","spm_curr","pvid","vnum","s_clk","last_vt","dh_aff","ref_utm","content_data","ab_version","scm","itemcode","item_code","moduleEl","tagName","getElementsByTagName","getAttribute","link_url","link_title","resource_id","spm_link","track","spmB","getD1","isDOM","HTMLElement","str","resourece","rmdspm","setHref","from","handleUrl","isSlide","ele","strD1_click_type","scm_id","strResource","spmC","spmIndex","setAttribute","a","b","event","attribute","el","paths","composedPath","pathsNum","res","element","checkOptions","_ref","_ref$baseUrl","_ref$spma","spma","Error","pageView","_ref2","_ref2$baseUrl","_ref2$spma","spmb","locale","getLocale","clickTrack","_ref3","_ref3$baseUrl","_ref3$spma","_ref3$spmc","spmc","_ref3$spmd","spmd","_ref3$module","body","exposeTrack","_ref4","_ref4$baseUrl","_ref4$spma","_ref4$spmc","_ref4$spmd","_ref4$module","listenerTraceClickHandler","autoTrack","attr","addEventListener","disconnect","MutationObserver","WebKitMutationObserver","checkDomReady","elements","querySelectorAll","filter","item","ready","changeTotal","traceExpose","observerEleReady","childList","subtree"],"mappings":"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","x_google_ignoreList":[0]}