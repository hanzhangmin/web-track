{"version":3,"file":"index.js","sources":["../node_modules/js-cookie/dist/js.cookie.mjs","../src/trace/utils.js","../src/trace/BuryingPoint.js","../src/trace/config.js","../src/trace/dom.js","../src/trace/index.js"],"sourcesContent":["/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import Cookies from 'js-cookie'\r\n/**\r\n * @param {string} object\r\n * @returns {Boolean}\r\n */\r\nexport function isObject(obj) {\r\n  return Object.prototype.toString.call(obj) === '[object Object]'\r\n}\r\n\r\n/**\r\n * Merges two objects, giving the last one precedence\r\n * @param {Object} target\r\n * @param {(Object|Array)} source\r\n * @returns {Object}\r\n */\r\nexport function objectMerge(target, source) {\r\n  if (!isObject(target)) {\r\n    target = {}\r\n  }\r\n  if (Array.isArray(source)) {\r\n    return source.slice()\r\n  }\r\n  Object.keys(source).forEach((property) => {\r\n    const sourceProperty = source[property]\r\n    if (typeof sourceProperty === 'object') {\r\n      target[property] = objectMerge(target[property], sourceProperty)\r\n    } else {\r\n      target[property] = sourceProperty\r\n    }\r\n  })\r\n  return target\r\n}\r\n\r\n/**\r\n * @param {Array} actual\r\n * @returns {Array}\r\n */\r\nexport function cleanArray(actual) {\r\n  const newArray = []\r\n  for (let i = 0; i < actual.length; i++) {\r\n    if (actual[i]) {\r\n      newArray.push(actual[i])\r\n    }\r\n  }\r\n  return newArray\r\n}\r\n\r\n/**\r\n * @param {Object} json\r\n * @returns {Array}\r\n */\r\nexport function param(json) {\r\n  if (!json) return ''\r\n  return cleanArray(\r\n    Object.keys(json).map((key) => {\r\n      if (json[key] === undefined) return ''\r\n      return encodeURIComponent(key) + '=' + encodeURIComponent(json[key])\r\n    })\r\n  ).join('&')\r\n}\r\n\r\n/**\r\n * @param {string} url\r\n * @returns {Object}\r\n */\r\nexport function param2Obj(url) {\r\n  const search = decodeURIComponent(url.split('?')[1]).replace(/\\+/g, ' ')\r\n  if (!search) {\r\n    return {}\r\n  }\r\n  const obj = {}\r\n  const searchArr = search.split('&')\r\n  searchArr.forEach((v) => {\r\n    const index = v.indexOf('=')\r\n    if (index !== -1) {\r\n      const name = v.substring(0, index)\r\n      const val = v.substring(index + 1, v.length)\r\n      obj[name] = val\r\n    }\r\n  })\r\n  return obj\r\n}\r\n/**\r\n * 查询url上的参数\r\n * @param {string} name\r\n * @returns {String}\r\n */\r\nexport function queryUrlParams(name) {\r\n  const urlParams = new URLSearchParams(location.search)\r\n  return urlParams.get(name) || ''\r\n}\r\n\r\n/**\r\n * @param {string} path\r\n * @returns {Boolean}\r\n */\r\nexport function isExternal(path) {\r\n  return /^(https?:|mailto:|tel:)/.test(path)\r\n}\r\n\r\n/**\r\n * 获取站点ID\r\n * @returns {String}\r\n */\r\nexport function getMetaSpmA() {\r\n  return document.head.querySelector('[name=\"spm-a\"]')?.content || ''\r\n}\r\n\r\n/**\r\n * 获取页面ID\r\n * @returns {String}\r\n */\r\nexport function getSpmb() {\r\n  return document.head.querySelector('[name=\"spm-b\"]')?.content || ''\r\n}\r\n\r\n/**\r\n * 获取是否自动上报pv\r\n * @returns {Boolean}\r\n */\r\nexport function getMetaAutotrack() {\r\n  return document.head.querySelector('[name=\"autotrack\"]')?.content === 'true' || false\r\n}\r\n\r\n/**\r\n * 获取页面级别的itemcode\r\n * @returns {Boolean}\r\n */\r\nexport function getMetaItemcode() {\r\n  return document.head.querySelector('[name=\"itemcode\"]')?.content || ''\r\n}\r\n\r\n/**\r\n * @descriptin 获取当前语种\r\n * @returns {Array}\r\n */\r\nexport const getLocale = () => {\r\n  return Cookies.get('language') || 'en'\r\n}\r\n\r\n/**\r\n * @descriptin 是否客户端\r\n * @returns {Boolean}\r\n */\r\nexport const isClient = () => {\r\n  return typeof window !== 'undefined'\r\n}\r\n","import { objectMerge, param2Obj, queryUrlParams } from './utils'\r\nimport Cookies from 'js-cookie'\r\nlet g__randomString = null // 全局的pvid的定义是：sdk加载时（pageview事件）（在发送日志之前）生成一个随机id，由数字和大小写字母组成\r\nclass BuryingPoint {\r\n  constructor(options = {}) {\r\n    // 配置对象初始化\r\n    this.baseUrl = options.baseUrl || '/' // 接口路径\r\n    this.spm_a = options.spm_a || '' // 当前站点，对应spmA\r\n    this.spm_b = options.spm_b // 当前页面， 对应spmB\r\n    this.module = options.module // 当前模块\r\n    this.moduleName = options.moduleName // 模块名称,对应spmC\r\n    this.moduleIndex = options.moduleIndex || '1' // 模块索引，对应spmD\r\n    this.resource = options.resource || '' // 来源id\r\n    this.title = options.title || '' // 标题\r\n    this.event_body = options.event_body // 事件body\r\n    this.other = options.other // 用于上报特殊参数\r\n    this.callback = options.callback || null // 回调\r\n    this.domain = options.domain || location.hostname // 当前domian\r\n    this.userIdCacheKey = options.userIdCacheKey || 'd1_userid' // 当前站点用户ID缓存key\r\n    this.keywordKey = options.keywordQueryKey || 'searchKey' // 当前站点搜索结果页url query key\r\n    this.cateName = options.cateName || 'cateDisName' // 当前站点搜索结果页url query key\r\n    // 处理时间维度\r\n    this.SESSION_EXPIRE_TIME = options.sessionExpireTime || 30 * 60 * 1000 // 会话最大有效时间\r\n    this.VISIT_TIME = new Date().getTime() // 当前访问时间\r\n    this.last_vtz = Cookies.get('d1_last_vt') || '' // 上次访问时间\r\n    this.d1_s_vnum = Cookies.get('d1_s_vnum') || '' // 曝光次数\r\n    this.d1_s_clicks = Cookies.get('d1_s_clicks') || '' // 点击次数\r\n    this.d1_session = Cookies.get('d1_session') || '' // session会话\r\n    this.io = null // 监听io\r\n    this.init()\r\n  }\r\n  get isTime() {\r\n    // 距离上次访问时长\r\n    return this.last_vtz !== '' ? this.VISIT_TIME - this.last_vtz : null\r\n  }\r\n  get isExpire() {\r\n    // 会话失效或者首次访问\r\n    return !this.isTime || this.isTime > this.SESSION_EXPIRE_TIME\r\n  }\r\n  // 初始化\r\n  init() {\r\n    if (!g__randomString) g__randomString = this.randomString()\r\n    // 设置最后访问时间\r\n    this.setLastVtz()\r\n    // 埋spm\r\n    this.buryingSpm()\r\n  }\r\n  // 曝光\r\n  expose(options = {}) {\r\n    const _this = this\r\n    this.event_body = objectMerge(\r\n      {\r\n        event_type: 'expose',\r\n        event_name: 'web_expo',\r\n        event_data: {\r\n          event_entity_info: {},\r\n        },\r\n      },\r\n      options.event_body || {}\r\n    )\r\n    this.moduleIndex = options.moduleIndex || '1'\r\n    // 设置请求报文\r\n    this.setRequestVo()\r\n    // 监听元素是否出现可视区\r\n    try {\r\n      this.io = new IntersectionObserver(\r\n        function (entries, observer) {\r\n          if (entries && entries[0] && entries[0].isIntersecting) {\r\n            // 停止监听（防止循环监听）\r\n            observer.unobserve(_this.module)\r\n            // 如果元素可见 开始埋点\r\n            _this.setPoint()\r\n          }\r\n        },\r\n        {\r\n          threshold: [0.5],\r\n        }\r\n      )\r\n      // 开始监听\r\n      this.io.observe(_this.module)\r\n    } catch (err) {\r\n      console.error('IntersectionObserver-error', err)\r\n    }\r\n  }\r\n  // 点击\r\n  click(options = {}) {\r\n    // 设置请求报文\r\n    this.event_body = objectMerge(\r\n      {\r\n        event_type: 'click',\r\n        event_name: 'click',\r\n        event_data: {\r\n          event_entity_info: {\r\n            link_type: 'click',\r\n            item_code: options.itemcode,\r\n          },\r\n        },\r\n      },\r\n      options.event_body || {}\r\n    )\r\n    this.moduleIndex = options.moduleIndex || '1'\r\n    this.setRequestVo()\r\n    this.setPoint()\r\n  }\r\n  // 页面曝光\r\n  pageview(options = {}) {\r\n    // 页面曝光前重新定义pvid\r\n    g__randomString = this.randomString()\r\n    // 搜索结果页搜索关键词\r\n    const keyword = options.keyword || queryUrlParams(this.keywordKey) || queryUrlParams(this.cateName) || ''\r\n    // 设置请求报文\r\n    this.event_body = objectMerge(\r\n      {\r\n        event_type: 'web_pageview',\r\n        event_name: 'pageview',\r\n        event_data: {\r\n          event_entity_info: {\r\n            item_code: options.itemcode,\r\n            keyword,\r\n          },\r\n        },\r\n      },\r\n      options.event_body || {}\r\n    )\r\n    this.setRequestVo()\r\n    this.setPoint()\r\n  }\r\n  // 设置最后访问时间\r\n  setLastVtz() {\r\n    if (this.isExpire) {\r\n      Cookies.set('d1_last_vt', this.VISIT_TIME, { domain: this.domain })\r\n    }\r\n  }\r\n  // 随机数\r\n  randomString(string_length = 20) {\r\n    var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'\r\n    var randomstring = ''\r\n    for (var i = 0; i < string_length; i++) {\r\n      var rnum = Math.floor(Math.random() * chars.length)\r\n      randomstring += chars.substring(rnum, rnum + 1)\r\n    }\r\n    return randomstring\r\n  }\r\n  // 设置会话\r\n  setSession() {\r\n    const d1_session = Cookies.get('d1_session')\r\n    const randomString = this.randomString()\r\n    if (this.isExpire || !d1_session) {\r\n      Cookies.set('d1_session', randomString, { domain: this.domain })\r\n    }\r\n  }\r\n  // 设置点击次数\r\n  setSclk() {\r\n    let d1_s_clicks = Cookies.get('d1_s_clicks')\r\n    if (this.isExpire || !d1_s_clicks) {\r\n      d1_s_clicks = 1\r\n    } else {\r\n      d1_s_clicks++\r\n    }\r\n    Cookies.set('d1_s_clicks', d1_s_clicks, { domain: this.domain })\r\n    this.d1_s_clicks = d1_s_clicks\r\n  }\r\n  // 设置曝光次数\r\n  setVnum() {\r\n    let d1_s_vnum = Cookies.get('d1_s_vnum')\r\n    if (this.isExpire || !d1_s_vnum) {\r\n      d1_s_vnum = 1\r\n    } else {\r\n      d1_s_vnum++\r\n    }\r\n    Cookies.set('d1_s_vnum', d1_s_vnum, { domain: this.domain })\r\n    this.d1_s_vnum = d1_s_vnum\r\n  }\r\n  // 埋点\r\n  setPoint() {\r\n    let lang = ''\r\n    let site = ''\r\n    const spmA = this.spm_a\r\n    if (spmA) {\r\n      lang = spmA.slice(-2) || ''\r\n      site = spmA.slice(0, spmA.length - 2) || 'www'\r\n    }\r\n\r\n    var srcStr = {\r\n      user_info: {\r\n        vid: Cookies.get('vid') || '',\r\n        user_id: Cookies.get(this.userIdCacheKey) || window.localStorage.getItem(this.userIdCacheKey) || '',\r\n        session_id: Cookies.get('d1_session') || Cookies.get('session') || '',\r\n      },\r\n      device: {\r\n        user_agent: navigator.userAgent || '',\r\n        sr: window.screen.width + '*' + window.screen.height,\r\n        ga_id: Cookies.get('_ga') || '',\r\n      },\r\n      site_info: {\r\n        site: site,\r\n        lang: lang || Cookies.get('language') || '',\r\n      },\r\n      visit_time: {\r\n        time: new Date().getTime() || '',\r\n        // \"timezone\": Intl.DateTimeFormat().resolvedOptions().timeZone || \"\"\r\n        timezone: new Date().getTimezoneOffset() / 60 || '',\r\n      },\r\n      event_body: this.event_body,\r\n    }\r\n    var enSrcStr = JSON.stringify(srcStr)\r\n    if (typeof this.baseUrl === 'string') {\r\n      this.sendLog(this.baseUrl, enSrcStr)\r\n    } else if (Array.isArray(this.baseUrl) && this.baseUrl.length) {\r\n      this.baseUrl.forEach((url) => {\r\n        this.sendLog(url, enSrcStr)\r\n      })\r\n    }\r\n    this.callback && this.callback()\r\n  }\r\n  // 埋点请求\r\n  sendLog(url, params) {\r\n    if (navigator.sendBeacon) {\r\n      this.sendBeacon(url, params)\r\n    } else {\r\n      this.createTrackLogImg(url, params)\r\n    }\r\n  }\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\r\n  sendBeacon(url, params) {\r\n    navigator.sendBeacon(`${url}?v=0.0.1&tacktype=web&site=www&status=true&data=`, params)\r\n  }\r\n  // 生成图片，发送请求\r\n  createTrackLogImg(url, enSrcStr) {\r\n    var tracklogImg = new Image()\r\n    tracklogImg.onload = function () {}\r\n    tracklogImg.src = `${url}?v=0.0.1&tacktype=web&site=www&status=true&data=${encodeURIComponent(enSrcStr)}`\r\n  }\r\n  // 获取URl上面的参数\r\n  getUrlParam(key) {\r\n    var url = location.href\r\n    var paraObj = param2Obj(url)\r\n    // 排除key=wedding+dresses#aa中#aa 把‘+’去掉\r\n    var returnValue = paraObj[key]\r\n    if (typeof returnValue === 'undefined') {\r\n      return ''\r\n    } else {\r\n      return returnValue.replace(/(.+)#.*/, '$1').replace(/\\+/g, ' ')\r\n    }\r\n  }\r\n  // 处理请求参数\r\n  setRequestVo() {\r\n    var _this = this\r\n    var type = this.event_body.event_data.event_entity_info.link_type\r\n    var link_type = _this.event_body.event_type === 'click' ? type : 'item'\r\n    // 设置随机数\r\n    if (!g__randomString) g__randomString = this.randomString()\r\n    // 设置会话\r\n    _this.setSession()\r\n    if (type === 'click' || _this.event_body.event_type === 'click') {\r\n      _this.setSclk()\r\n    }\r\n    _this.event_body.event_time = new Date().getTime() || ''\r\n    _this.event_body.event_code = _this.event_code || ''\r\n    _this.event_body.source = {\r\n      f: Cookies.get('ref_f') || '',\r\n      url: location.href || '',\r\n      ref_url: document.referrer || '',\r\n      spm_ref: _this.getUrlParam('dspm') || '',\r\n      spm_curr: _this.spm_a + '.' + _this.spm_b + '.0.0.0',\r\n      pvid: g__randomString || '',\r\n      vnum: _this.d1_s_vnum || '',\r\n      s_clk: _this.d1_s_clicks || '',\r\n      last_vt: _this.last_vtz || '',\r\n      dh_aff: Cookies.get('DHaff') || '',\r\n      ref_utm: Cookies.get('ref_utm') || '',\r\n    }\r\n    if (_this.module === 'page') {\r\n      // 页面加载\r\n      _this.event_body.event_type = 'web_pageview'\r\n      _this.event_body.event_name = 'pageview'\r\n      _this.event_body.source.title = _this.title\r\n      _this.setVnum()\r\n    } else {\r\n      // 各模块\r\n      _this.event_body.event_type = this.event_body.event_type || 'expose'\r\n      _this.event_body.event_name = this.event_body.event_name || 'web_expo'\r\n      if (!_this.event_body.content_data) {\r\n        _this.event_body.content_data = {\r\n          ab_version: '',\r\n        }\r\n      }\r\n      // 处理scm\r\n      if (_this.event_body.content_data.scm) {\r\n        _this.event_body.content_data.scm = _this.event_body.content_data.scm || {}\r\n      }\r\n      // a标签或有href属性则处理href或itemcode\r\n      var itemcode = (this.event_body.event_data.event_entity_info.item_code || '').toString()\r\n      var moduleEl =\r\n        _this.module.tagName === 'A'\r\n          ? _this.module\r\n          : _this.module.getElementsByTagName('a')[0] || _this.module.closest('a') || _this.module\r\n      var href = moduleEl.getAttribute('href') || ''\r\n      if (!itemcode) {\r\n        itemcode =\r\n          link_type === 'item' ? moduleEl.getAttribute('itemcode') || moduleEl.getAttribute('resource') || '' : ''\r\n      }\r\n      if (itemcode.indexOf('/') > -1) {\r\n        itemcode = ''\r\n      }\r\n      objectMerge(_this.event_body.event_data.event_entity_info, {\r\n        link_url: href.indexOf('/') > -1 ? href : '',\r\n        link_title: moduleEl.getAttribute('title') || '',\r\n        resource_id: _this.resource || moduleEl.getAttribute('resource') || '',\r\n        item_code: itemcode,\r\n        spm_link:\r\n          _this.spm_a + '.' + _this.spm_b + '.' + _this.moduleName + '.' + _this.moduleIndex + '.' + g__randomString,\r\n        link_type: type || moduleEl.getAttribute('link-type') || 'item',\r\n        other: _this.other || {},\r\n      })\r\n    }\r\n  }\r\n  // 给a链接埋dspm\r\n  buryingSpm(track) {\r\n    track = track || this.module\r\n    if (typeof track !== 'object') return\r\n    const _this = this\r\n    const spmA = this.spm_a || ''\r\n    const spmB = this.spm_b || track.site || ''\r\n    return (function getD1() {\r\n      // track 可以传对象，也可以传模块id ,可以直接传元素  (传对象返回的是链接)\r\n      // pcen\r\n      // site 首页站点hp\r\n      // module 模块 如flashdeal\r\n      // index 索引\r\n      // resourece resource_id\r\n      // rmdspm 去掉dspm=\r\n      // isSlide 是否加? true去掉   默认是有\r\n      // spm-param  true 不加dspm\r\n      // event-type: event 点击埋点   click 发送点击事件\r\n      const isDOM = track instanceof HTMLElement\r\n      let str = ''\r\n      if (!isDOM) {\r\n        const resourece = track.resourece || ''\r\n        if (track.rmdspm) {\r\n          str = spmA + '.' + spmB + '.' + track.module + '.' + track.index + '.' + g__randomString\r\n        } else {\r\n          str = 'dspm=' + spmA + '.' + spmB + '.' + track.module + '.' + track.index + '.' + g__randomString\r\n        }\r\n        // 处理resourece字段\r\n        if (resourece) str += '&resource_id=' + encodeURIComponent(resourece)\r\n      } else {\r\n        if (!track) {\r\n          return\r\n        }\r\n        switch (track.tagName) {\r\n          case 'A':\r\n            _this.setHref(track)\r\n            break\r\n          default:\r\n            Array.from(track.getElementsByTagName('a')).forEach((v) => {\r\n              _this.setHref(v)\r\n            })\r\n        }\r\n        return\r\n      }\r\n      if (track.url) {\r\n        str = _this.handleUrl(track.url, str)\r\n      } else {\r\n        if (track.isSlide) {\r\n          str = str.substring(0, str.length)\r\n        } else {\r\n          str = '?' + str.substring(0, str.length)\r\n        }\r\n      }\r\n\r\n      return str\r\n    })()\r\n  }\r\n  // 设置a链接埋点链接\r\n  setHref(ele) {\r\n    var href = ele.getAttribute('href') || 'javascript'\r\n    var resource = ele.getAttribute('resource') || ele.getAttribute('itemcode') || ''\r\n    var str = ''\r\n    var strD1_click_type = ''\r\n    var scm_id = ''\r\n    var strResource = '&resource_id=' + encodeURIComponent(resource)\r\n    if (href.indexOf('dspm=') > -1 || href.indexOf('javascript') > -1) {\r\n      return\r\n    }\r\n    var spmA = this.spm_a || ''\r\n    var spmB = this.spm_b || ''\r\n    var spmC = ele.getAttribute('spm-c') || this.moduleName || ''\r\n    var spmIndex = ele.getAttribute('spm-index') || this.moduleIndex || '1'\r\n    str =\r\n      'dspm=' +\r\n      spmA +\r\n      '.' +\r\n      spmB +\r\n      '.' +\r\n      spmC +\r\n      '.' +\r\n      spmIndex +\r\n      '.' +\r\n      g__randomString +\r\n      strResource +\r\n      strD1_click_type +\r\n      scm_id\r\n    str = this.handleUrl(href, str)\r\n    ele.setAttribute('href', str)\r\n  }\r\n  // 处理链接\r\n  handleUrl(href, str = '') {\r\n    if (href.indexOf('?') > -1) {\r\n      if (href.indexOf('#') > -1) {\r\n        str = href.replace('#', function (a, b) {\r\n          return '&' + str + '#'\r\n        })\r\n      } else {\r\n        str = href + '&' + str\r\n      }\r\n    } else {\r\n      if (href.indexOf('#') > -1) {\r\n        str = href.replace('#', function (a, b) {\r\n          return '?' + str + '#'\r\n        })\r\n      } else {\r\n        str = href + '?' + str\r\n      }\r\n    }\r\n    return str\r\n  }\r\n}\r\n\r\nexport default BuryingPoint\r\n","// 埋点上报地址，支持多写\r\nexport const spmBaseUrl = ['https://d1.dhmogo.com/track/tracklog.jsp']\r\n// 埋点上报站点\r\nexport const spma = 'mgwww'\r\n","/* istanbul ignore next */\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/\r\nconst ieVersion = typeof window !== 'undefined' && document.documentMode\r\n\r\n/* istanbul ignore next */\r\nconst trim = function (string) {\r\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\r\n}\r\n/* istanbul ignore next */\r\nconst camelCase = function (name) {\r\n  return name\r\n    .replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\r\n      return offset ? letter.toUpperCase() : letter\r\n    })\r\n    .replace(MOZ_HACK_REGEXP, 'Moz$1')\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const on = (function () {\r\n  if (typeof window === 'undefined') return false\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler, passive) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, passive)\r\n      }\r\n    }\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.attachEvent('on' + event, handler)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const off = (function () {\r\n  if (typeof window === 'undefined') return false\r\n  if (document.removeEventListener) {\r\n    return function (element, event, handler, passive) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, passive)\r\n      }\r\n    }\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.detachEvent('on' + event, handler)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const once = function (el, event, fn) {\r\n  var listener = function () {\r\n    if (fn) {\r\n      fn.apply(this, arguments)\r\n    }\r\n    off(el, event, listener)\r\n  }\r\n  on(el, event, listener)\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function hasClass(el, cls) {\r\n  if (!el || !cls) return false\r\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\r\n  if (el.classList) {\r\n    return el.classList.contains(cls)\r\n  } else {\r\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function addClass(el, cls) {\r\n  if (!el) return\r\n  var curClass = el.className\r\n  var classes = (cls || '').split(' ')\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[i]\r\n    if (!clsName) continue\r\n\r\n    if (el.classList) {\r\n      el.classList.add(clsName)\r\n    } else if (!hasClass(el, clsName)) {\r\n      curClass += ' ' + clsName\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function removeClass(el, cls) {\r\n  if (!el || !cls) return\r\n  var classes = cls.split(' ')\r\n  var curClass = ' ' + el.className + ' '\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[i]\r\n    if (!clsName) continue\r\n\r\n    if (el.classList) {\r\n      el.classList.remove(clsName)\r\n    } else if (hasClass(el, clsName)) {\r\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const getStyle =\r\n  ieVersion < 9\r\n    ? function (element, styleName) {\r\n        if (!element || !styleName) return null\r\n        styleName = camelCase(styleName)\r\n        if (styleName === 'float') {\r\n          styleName = 'styleFloat'\r\n        }\r\n        try {\r\n          switch (styleName) {\r\n            case 'opacity':\r\n              try {\r\n                return element.filters.item('alpha').opacity / 100\r\n              } catch (e) {\r\n                return 1.0\r\n              }\r\n            default:\r\n              return element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null\r\n          }\r\n        } catch (e) {\r\n          return element.style[styleName]\r\n        }\r\n      }\r\n    : function (element, styleName) {\r\n        if (!element || !styleName) return null\r\n        styleName = camelCase(styleName)\r\n        if (styleName === 'float') {\r\n          styleName = 'cssFloat'\r\n        }\r\n        try {\r\n          var computed = document.defaultView.getComputedStyle(element, '')\r\n          return element.style[styleName] || computed ? computed[styleName] : null\r\n        } catch (e) {\r\n          return element.style[styleName]\r\n        }\r\n      }\r\n\r\n/* istanbul ignore next */\r\nexport function setStyle(element, styleName, value) {\r\n  if (!element || !styleName) return\r\n\r\n  if (typeof styleName === 'object') {\r\n    for (var prop in styleName) {\r\n      if (styleName.hasOwnProperty(prop)) {\r\n        setStyle(element, prop, styleName[prop])\r\n      }\r\n    }\r\n  } else {\r\n    styleName = camelCase(styleName)\r\n    if (styleName === 'opacity' && ieVersion < 9) {\r\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')'\r\n    } else {\r\n      element.style[styleName] = value\r\n    }\r\n  }\r\n}\r\n\r\nexport const isScroll = (el, vertical) => {\r\n  const determinedDirection = vertical !== null || vertical !== undefined\r\n  const overflow = determinedDirection\r\n    ? vertical\r\n      ? getStyle(el, 'overflow-y')\r\n      : getStyle(el, 'overflow-x')\r\n    : getStyle(el, 'overflow')\r\n\r\n  return overflow.match(/(scroll|auto)/)\r\n}\r\n\r\nexport const getScrollContainer = (el, vertical) => {\r\n  let parent = el\r\n  while (parent) {\r\n    if ([window, document, document.documentElement].includes(parent)) {\r\n      return window\r\n    }\r\n    if (isScroll(parent, vertical)) {\r\n      return parent\r\n    }\r\n    parent = parent.parentNode\r\n  }\r\n\r\n  return parent\r\n}\r\n\r\nexport const isInContainer = (el, container) => {\r\n  if (!el || !container) return false\r\n\r\n  const elRect = el.getBoundingClientRect()\r\n  let containerRect\r\n\r\n  if ([window, document, document.documentElement, null, undefined].includes(container)) {\r\n    containerRect = {\r\n      top: 0,\r\n      right: window.innerWidth,\r\n      bottom: window.innerHeight,\r\n      left: 0,\r\n    }\r\n  } else {\r\n    containerRect = container.getBoundingClientRect()\r\n  }\r\n\r\n  return (\r\n    elRect.top < containerRect.bottom &&\r\n    elRect.bottom > containerRect.top &&\r\n    elRect.right > containerRect.left &&\r\n    elRect.left < containerRect.right\r\n  )\r\n}\r\n\r\n/**\r\n *\r\n * @param {事件event} event\r\n * @param {获取的属性名称} attribute\r\n * @param {当前绑定事件的元素} el\r\n * @returns 属性值\r\n * @description 获取属性值\r\n */\r\nexport const getAttribute = (event, attribute, el) => {\r\n  const target = event.target\r\n  const paths = event.path || (event.composedPath && event.composedPath()) // ios只支持10以上版本\r\n  const pathsNum = paths.length\r\n  if (target.getAttribute(attribute)) return target.getAttribute(attribute)\r\n  let res = null\r\n  for (let index = 0; index < pathsNum; index++) {\r\n    const element = paths[index]\r\n    try {\r\n      res = element.getAttribute(attribute)\r\n    } catch (error) {}\r\n    if (element === el || res) break\r\n  }\r\n  return res\r\n}\r\n","import BuryingPoint from './BuryingPoint'\r\nimport { spmBaseUrl } from './config'\r\nimport { getAttribute } from './dom'\r\nimport { getMetaSpmA, getSpmb, isClient, getMetaAutotrack, getMetaItemcode } from './utils'\r\n\r\n// 处理应用初始化传递的optios参数\r\nconst mergeInitOptionsHandler = (options = {}) => {\r\n  const baseUrl = options?.baseUrl || spmBaseUrl // 上报地址\r\n  const spm_a = options?.spm_a || getMetaSpmA() // 站点ID\r\n  const spm_b = options?.spm_b || getSpmb() // 页面ID\r\n  const userIdCacheKey = options?.userIdCacheKey // 站点用户ID缓存key\r\n  const autotrack = options?.autotrack || getMetaAutotrack() || false // 是否自动上报pv\r\n  return {\r\n    baseUrl,\r\n    spm_a,\r\n    spm_b,\r\n    userIdCacheKey,\r\n    autotrack,\r\n  }\r\n}\r\n\r\n// 暴露pageview事件\r\nexport const pageView = ({ eventCode, other, itemcode, options = {} }) => {\r\n  if (!isClient()) {\r\n    return false\r\n  }\r\n  // 处理传参\r\n  const mergeOptions = mergeInitOptionsHandler(options)\r\n  const { baseUrl, spm_a, spm_b, userIdCacheKey } = mergeOptions\r\n  const _itemcode = itemcode || getMetaItemcode()\r\n  new BuryingPoint({\r\n    baseUrl,\r\n    spm_a,\r\n    module: 'page',\r\n    spm_b,\r\n    event_code: eventCode,\r\n    other,\r\n    userIdCacheKey,\r\n  }).pageview({\r\n    itemcode: _itemcode,\r\n  })\r\n}\r\n\r\n// 暴露click事件\r\nexport const traceClick = ({ spmc, spmd, module = document.body, eventCode, other, options, itemcode }) => {\r\n  // 处理传参\r\n  const mergeOptions = mergeInitOptionsHandler(options)\r\n  const { baseUrl, spm_a, spm_b, userIdCacheKey } = mergeOptions\r\n  new BuryingPoint({\r\n    baseUrl,\r\n    spm_a,\r\n    module, // element dom\r\n    spm_b,\r\n    moduleName: spmc, // spm_c\r\n    other,\r\n    userIdCacheKey,\r\n  }).click({\r\n    moduleIndex: spmd,\r\n    itemcode,\r\n  })\r\n}\r\n// 暴露expose事件\r\nexport const traceExpose = ({ spmc, spmd, module = document.body, eventCode, other, options }) => {\r\n  // 处理传参\r\n  const mergeOptions = mergeInitOptionsHandler(options)\r\n  const { baseUrl, spm_a, spm_b, userIdCacheKey } = mergeOptions\r\n  new BuryingPoint({\r\n    baseUrl,\r\n    spm_a,\r\n    module, // element dom\r\n    spm_b,\r\n    moduleName: spmc, // spm_c\r\n    other,\r\n    userIdCacheKey,\r\n  }).expose({\r\n    moduleIndex: spmd,\r\n  })\r\n}\r\n\r\n/**\r\n * @description 点击事件埋点\r\n */\r\nexport const listenerTraceClickHandler = (event, options) => {\r\n  // 获取埋点元素信息\r\n  const target = event.target\r\n  const spmc = getAttribute(event, 'spm-c')\r\n  const eventCode = getAttribute(event, 'event-code')\r\n  const other = getAttribute(event, 'other')\r\n  if (spmc) {\r\n    const spmIndex = getAttribute(event, 'spm-index') || '1'\r\n    const itemcode = getAttribute(event, 'itemcode') || ''\r\n    traceClick({\r\n      spmc,\r\n      spmd: spmIndex,\r\n      module: target,\r\n      other,\r\n      options,\r\n      itemcode,\r\n    })\r\n  }\r\n}\r\n/**\r\n * history事件绑定\r\n */\r\nconst bindHistoryEventListener = (type) => {\r\n  const historyEvent = window.history[type]\r\n  return function () {\r\n    const newEvent = historyEvent.apply(this, arguments)\r\n    const e = new Event(type)\r\n    e.arguments = arguments\r\n    window.dispatchEvent(e)\r\n    return newEvent\r\n  }\r\n}\r\n\r\n/**\r\n * 页面堆变化\r\n */\r\nconst onPageChange = (event, options) => {\r\n  pageView({ options })\r\n}\r\n\r\n/**\r\n * @description 自动埋点元素\r\n */\r\nexport function autoTrack(attr) {\r\n  if (!isClient()) {\r\n    return false\r\n  }\r\n  // 处理传参\r\n  const mergeOptions = mergeInitOptionsHandler(options)\r\n\r\n  // 自动pv监听\r\n  if (mergeOptions.autotrack) {\r\n    pageView({\r\n      options: mergeOptions,\r\n    })\r\n    // 针对vue react等单页应用路由重新绑定History相关事件\r\n    window.history.pushState = bindHistoryEventListener('pushState')\r\n    window.history.replaceState = bindHistoryEventListener('replaceState')\r\n    window.addEventListener(\r\n      'popstate',\r\n      function (e) {\r\n        onPageChange(e, mergeOptions)\r\n      },\r\n      false\r\n    )\r\n    window.addEventListener(\r\n      'pushState',\r\n      function (e) {\r\n        onPageChange(e, mergeOptions)\r\n      },\r\n      false\r\n    )\r\n    window.addEventListener(\r\n      'replaceState',\r\n      function (e) {\r\n        onPageChange(e, mergeOptions)\r\n      },\r\n      false\r\n    )\r\n  }\r\n\r\n  // 点击事件监听\r\n  window.addEventListener(\r\n    'click',\r\n    function (e) {\r\n      listenerTraceClickHandler(e, mergeOptions)\r\n    },\r\n    false\r\n  )\r\n  // 曝光自动监听\r\n  let observer = null\r\n  const MutationObserver = window.MutationObserver || window.WebKitMutationObserver\r\n\r\n  // 网页关闭之前取消监听\r\n  window.addEventListener('beforeunload', function (e) {\r\n    if (observer) observer.disconnect()\r\n  })\r\n\r\n  // 监听dom变化\r\n  function checkDomReady() {\r\n    // 检查指定节点是否有匹配\r\n    let elements = [].slice.call(document.querySelectorAll('[event-type=expose]')).filter((item) => !item.ready)\r\n    const changeTotal = elements.length\r\n    if (changeTotal > 0) {\r\n      for (var index = 0; index < changeTotal; index++) {\r\n        const element = elements[index]\r\n        // 确保只会对该元素调用一次\r\n        if (!element.ready) {\r\n          element.ready = true\r\n          // 对节点调用曝光监听\r\n          const spmc = element.getAttribute('spm-c') || ''\r\n          const spmd = element.getAttribute('spm-index') || '1'\r\n          const other = element.getAttribute('other') || {}\r\n          traceExpose({\r\n            spmc,\r\n            spmd,\r\n            module: element,\r\n            other,\r\n            options: mergeOptions,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 对document.body监听元素变化\r\n  function observerEleReady() {\r\n    if (!observer) {\r\n      // 监听document变化\r\n      observer = new MutationObserver(checkDomReady)\r\n      observer.observe(document.body, {\r\n        childList: true,\r\n        subtree: true,\r\n      })\r\n    }\r\n    // 检查该节点是否已经在DOM中\r\n    checkDomReady()\r\n  }\r\n  observerEleReady()\r\n}\r\n"],"names":["assign","target","i","arguments","length","source","key","defaultConverter","read","value","slice","replace","decodeURIComponent","write","encodeURIComponent","init","converter","defaultAttributes","set","name","attributes","document","expires","Date","now","toUTCString","escape","stringifiedAttributes","attributeName","split","cookie","get","cookies","jar","parts","join","found","e","Object","create","remove","withAttributes","withConverter","freeze","api","path","isObject","obj","prototype","toString","call","objectMerge","Array","isArray","keys","forEach","property","sourceProperty","_typeof","param2Obj","url","search","searchArr","v","index","indexOf","substring","val","queryUrlParams","urlParams","URLSearchParams","location","getMetaSpmA","_document$head$queryS","head","querySelector","content","getSpmb","_document$head$queryS2","getMetaAutotrack","_document$head$queryS3","getMetaItemcode","_document$head$queryS4","isClient","window","g__randomString","BuryingPoint","options","undefined","_classCallCheck","baseUrl","spm_a","spm_b","module","moduleName","moduleIndex","resource","title","event_body","other","callback","domain","hostname","userIdCacheKey","keywordKey","keywordQueryKey","cateName","SESSION_EXPIRE_TIME","sessionExpireTime","VISIT_TIME","getTime","last_vtz","Cookies","d1_s_vnum","d1_s_clicks","d1_session","io","_createClass","isTime","randomString","setLastVtz","buryingSpm","expose","_this","event_type","event_name","event_data","event_entity_info","setRequestVo","IntersectionObserver","entries","observer","isIntersecting","unobserve","setPoint","threshold","observe","err","console","error","click","link_type","item_code","itemcode","pageview","keyword","isExpire","string_length","chars","randomstring","rnum","Math","floor","random","setSession","setSclk","setVnum","_this2","lang","site","spmA","srcStr","user_info","vid","user_id","localStorage","getItem","session_id","device","user_agent","navigator","userAgent","sr","screen","width","height","ga_id","site_info","visit_time","time","timezone","getTimezoneOffset","enSrcStr","JSON","stringify","sendLog","params","sendBeacon","createTrackLogImg","concat","tracklogImg","Image","onload","src","getUrlParam","href","paraObj","returnValue","type","event_time","event_code","f","ref_url","referrer","spm_ref","spm_curr","pvid","vnum","s_clk","last_vt","dh_aff","ref_utm","content_data","ab_version","scm","moduleEl","tagName","getElementsByTagName","closest","getAttribute","link_url","link_title","resource_id","spm_link","track","spmB","getD1","isDOM","HTMLElement","str","resourece","rmdspm","setHref","from","handleUrl","isSlide","ele","strD1_click_type","scm_id","strResource","spmC","spmIndex","setAttribute","a","b","spmBaseUrl","event","attribute","el","paths","composedPath","pathsNum","res","element","mergeInitOptionsHandler","autotrack","pageView","_ref","eventCode","_ref$options","mergeOptions","_itemcode","traceClick","_ref2","spmc","spmd","_ref2$module","body","traceExpose","_ref3","_ref3$module","listenerTraceClickHandler","bindHistoryEventListener","historyEvent","history","newEvent","apply","Event","dispatchEvent","onPageChange","autoTrack","attr","pushState","replaceState","addEventListener","MutationObserver","WebKitMutationObserver","disconnect","checkDomReady","elements","querySelectorAll","filter","item","ready","changeTotal","observerEleReady","childList","subtree"],"mappings":"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","x_google_ignoreList":[0]}